# Visual Essay Workflow Guide (Gemini + Nano Banana)

This guide explains **HOW** to use the Visual Essay Generator (VEG) using **Google Gemini** as the reasoning engine and **Nano Banana** for visualization/assembly.

## Prerequisites

1.  **Reasoning Engine**: Google Gemini (Pro/Ultra).
2.  **Visualization Tool**: Nano Banana.
3.  **Terminal**: To run the linter and series generator scripts.

---

## Phase 1: The Operator Session (Gemini)

The core of this skill is the "Operator Mode" prompt. It turns Gemini into the VEG engine.

1.  **Initialize the Session**:
    *   Open `skill/prompts/mega_prompt_operator_mode.md`.
    *   Copy the **entire file content**.
    *   Paste it into a fresh **Gemini** chat window.
    *   *System Response*: Gemini should confirm it is ready and list available commands (`/new`, `/blueprint`, etc.).

2.  **Start a Project**:
    *   Type `/new` followed by your topic.
    *   *Example*: `/new I want to write about why open source code is like a digital coral reef.`

3.  **Discovery**:
    *   Gemini will ask questions to clarify your thesis. Answer them to refine the concept.

---

## Phase 2: Blueprint Generation (Stage 1)

1.  **Generate**:
    *   When ready, Gemini will run the **Stage 1 Blueprint Generator**.
    *   It will output a Markdown code block containing the essay structure (Slides, Visual Anchors, Text).

2.  **Validation (Crucial)**:
    *   Copy the Markdown code block.
    *   Save it locally (e.g., `drafts/my_coral_reef.md`).
    *   **Run the Linter**:
        ```bash
        python tools/blueprint_linter.py drafts/my_coral_reef.md
        ```
    *   **Fix Errors**: If the linter flags "Risk Punctuation", ask Gemini to fix it:
        *   *User*: "The linter says Slide 3 has an em-dash in the Locked Body. Please remove it and reprint the blueprint."

---

## Phase 3: Rendering (Stage 2)

1.  **Choose a Motif**:
    *   Review `skill/motifs/motifs.md` to pick a style (e.g., `Systems` or `Atlas`).
    *   *User*: `/render Systems`

2.  **Get Image Prompts**:
    *   Gemini will output the **Image Prompts** and **Overlay Text**.
    *   *Note*: The system now defaults to **Landscape (16:9)** aspect ratio for course content and monitors.

---

## Phase 4: Nano Banana Workflow

1.  **Copy**: Take the image prompts generated by Gemini.
    *   *Note*: Nano Banana uses similar prompting logic to Midjourney but may not support specific flags like `--v 6.0`. It *does* typically support standard aspect ratios like `--ar 16:9`.
2.  **Paste**: Input them into **Nano Banana**.
3.  **Overlay**: Use the **LOCKED** text from the blueprint for the text fields in Nano Banana.
    *   *Note*: Nano Banana handles the text overlay logic. Ensure you paste the text *exactly* as it appears in the blueprint to maintain the "LOCKED" integrity.

---

## Phase 5: Series Generation (Automated)

If you have a JSON/YAML spec for 10 essays:

1.  Run the generator:
    ```bash
    python tools/series_generator.py examples/series/series_ai_augmentation_atlas.json
    ```
2.  This creates 10 `.prompt.md` files in `out/`.
3.  **For each file**:
    *   Open the file.
    *   Copy the content.
    *   Paste into a **new Gemini chat**.
    *   Gemini is now pre-loaded to generate that specific essay.
